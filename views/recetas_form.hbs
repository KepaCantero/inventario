<div class="ui top attached block header">
  <h2>
    {{title}}
  </h2>
</div>
<div class="ui attached bottom segment">
  <form id="receta_from" class="ui form" method="POST" action="" enctype="multipart/form-data">
    <div class="field">
      <label>
        Item Name
      </label>
      <input type="text" name="name" placeholder="Item Name" value="{{#if receta}}{{receta.nombre}}{{/if}}" />
    </div>
    <div class="field">
      <label>
        Description
      </label>
      <input type="text" name="description" placeholder="Description"
        value="{{#if receta}}{{receta.descripcion}}{{/if}}" />
    </div>
    <table id="my_table" class="ui striped table">
      <thead>
        <tr>
          <th>Ingrediente</th>
          <th>Cantidad</th>
          <th>Unidad</th>
        </tr>
      </thead>
      <tr>
        <div class="ingrediente_opcional">
          <td>
            <div class="field">

              <div class="ui selection dropdown">
                <input type="hidden" name="ingrediente" />
                <i class="dropdown icon"></i>
                <div class="default text">
                  Ingrediente
                </div>
                <div class="menu">
                  {{#each insumos}}
                  <div class="item" data-value={{this.id}}>
                    {{this.insumo}}
                  </div>
                  {{/each}}
                </div>
              </div>
            </div>
          </td>
          <td>
            <div class="field">
              <input type="Number" name="cantidad" placeholder="Cantidad"
                value="{{#if item}}{{item.cantidad}}{{/if}}" />
            </div>
          </td>
          <td>
            <div class="field">
              <div class="ui selection dropdown">
                <input type="hidden" name="unidad" />
                <i class="dropdown icon"></i>
                <div class="default text">
                  Unidad
                </div>
                <div class="menu">
                  {{#each unidades}}
                  <div class="item" data-value={{this.id}}>
                    {{this.descripcion}}
                  </div>
                  {{/each}}
                </div>
              </div>
          </td>
        </div>
        <td>
          <button class="remove">Remove</button>
      </tr>
    </table>

    <button id="anade_ingredientes_btn">AÃ±ade mas ingredientes</button>


</div>
</div>

<button class="ui button" type="submit">
  Submit
</button>
<div class="ui error message"></div>
</form>
</div>
<script>
  $('.ui.dropdown').dropdown({ on: 'hover' });
  $("#anade_ingredientes_btn").click(function (e) {
    e.preventDefault();
    $('#my_table').append(' <tr> <div class="ingrediente_opcional"> <td> <div class="field"> <div class="ui selection dropdown"> <input type="hidden" name="ingrediente" /> <i class="dropdown icon"></i> <div class="default text"> Ingrediente </div> <div class="menu"> {{#each insumos}} <div class="item" data-value={{this.id}}> {{this.insumo}} </div> {{/each}} </div> </div> </div> </td> <td> <div class="field"> <input type="Number" name="cantidad" placeholder="Cantidad" value="{{#if item}}{{item.cantidad}}{{/if}}" /> </div> </td> <td> <div class="field"> <div class="ui selection dropdown"> <input type="hidden" name="unidad" /> <i class="dropdown icon"></i> <div class="default text"> Unidad </div> <div class="menu"> {{#each unidades}} <div class="item" data-value={{this.id}}> {{this.descripcion}} </div> {{/each}} </div> </div> </td> </div> <td> <button class="remove">Remove</button> </tr>');
    $('.ui.dropdown').dropdown({ on: 'hover' });
  });
  $('#my_table').on('click', '.remove', function () {

    $(this).closest('tr').remove();
  })
</script>
